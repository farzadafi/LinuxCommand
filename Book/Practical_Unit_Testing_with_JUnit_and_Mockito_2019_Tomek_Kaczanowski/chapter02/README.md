# Chapter 2. Unit Tests
پس از بخش های مقدماتی کتاب که به طور کلی به تست های توسعه دهندگان اختصاص داده شده بود، حالا به سراغ موضوع اصلی کتاب میریم: unit test
#### آ 2.1 تست های واحد چه چیزی هستن؟
ایده ای که پشت تست های واحد هستش ساده اس: این هستش که اطمینان پیدا کنیم از اینکه کلاسی که الان داریم روش کار میکنیم به درستی کار میکنه تا مطمئن شیم کار خودش رو انجام میده. این موضوع که عنوان شد به این مربوط میشه که که به ازای ورودی ای خاص خروجیه مورد انتظاری میده یا نه، یا اینکه اگه اون رو با خروجی های مزخرف پر کنیم، خطای مناسب بده. ایده اینه، نوشتن تست برای اعتبارسنجی کردن رفتار مورد انتظار.

اما این کافی نیست. شما باید کلاساتون رو تست کنید به صورت مجزا و ایزوله، و تست کنید تا اعتبارسنجی کنید تا اونها داخل هر محیطی کار میکنن. وقتی که ما تست واحد مینویسیم خیلی مهمه که فقط یه دونه کلاس رو تست کنیم و نه بیشتر. روی منطق کلاستون تمرکز کنید. زمانی که مطمئن شدین کدتون به خوبی کار میکنه، بعدش با بقیه کامپوننت ها تست یکپارچگی انجام بدین. اما اول تست های واحد رو انجام بدین.

اخطار: متاسفانه حتی الان خیلی ها تست های واحد رو با سایر تست ها اشتباه میگیرن)شما میتونید مطالعه کنید راجع به تست واحد دیتابیس(یا استفاده میشه از این واژه برای هر تستی که توسعه دهندگان مینویسند. بسیاری از افراد ادعا میکنن که همه تست هاشون از نوع یونیت هستش، فقط به این علت که اونها با فریم ورک های یونیت تست اجرا میشن! برخی دیگر ادعا میکنن که اونها دارن تست واحد مینویسن و سه لایه از نرم افزار رو برای نوشتن تست واحد انتخاب کردن... این البته که اشتباهه، این سردرگمی به وجود میاره و بحث رو سخت میکنه. اینکار رو انجام ندین! شما واقعا میدونید تست واحد چیه.

تست های واحد برخی از خصوصیات رو دارن که اونها رو از سایر تست های برنامه نویسان متمایز میکنه. اونها روی یه دونه کلاس تمرکز میکنن و به شدت شرایطی رو که  SUT  در اون در حال اجرا هستش رو کنترل میکنن. اونها همچنین خیلی سریع اجرا میشن و توانایی این رو دارن که با دقت خوبی نقطه سنجی کنن جایی که باگ به وجود آورده رو، اغلب اوقات  متد خراب رو به توسعه دهنده نشون میدن اگه نشون ندن اون خط کد خراب رو! با این چنین فیدبک های سریع و دقیقی در مورد کیفیت کار، اونها کمک میکنن که به سرعت باگ رو حل کنیم قبل از اینکه در کل برنامه پخش شن.

وجود تست های جامع و دقیق واحد به ما اجازه میده که بدون ترس از اینکه چیزی خراب شه کد رو ریفکتور کنیم، وقتی که کلاس های شما توسط یونیت تست کاملا پوشش داده شدن، هیچ جایی از کد شما نمیمونه که "هیچکس جرات دست زدن بهش رو نداره".

مزیت دیگر تست های واحد اینکه اونها به عنوان یک سند زنده)اونها همیشه به روزن(برای کد شما  استفاده میشن. اونها خیلی بیشتر از جاواداک و انواع دیگر توضیحات خطی که برنامه نویسان در هنگام توسعه برای کد خودشون نوشتن، قابل اعتمادن.

آخرین و نه کم اهمیت، یک توسعه دهنده ماهر میتونه فرآیند ایجاد تست های واحد رو به یک فعالیت طراحی تبدیل کنه. این، خیلی شگفت انگیزه، احتمالا این مهم ترین مزیت تست های واحده

اخطار: یک چیز دیگه هم به یاد داشته باشید: تست های واحد توسط برنامه نویسان ایجاد شدن، و این مسئولیت ما، ابزار ما و  چیزیه که بهش افتخار میکنیم و اگر به خوبی انجامش ندیم باید بابت اون شرمنده باشیم.

























