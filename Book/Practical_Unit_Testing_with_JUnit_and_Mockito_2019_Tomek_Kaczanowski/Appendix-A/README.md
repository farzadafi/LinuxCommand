**ضمیمه A:**
تست های اتوماتیک

> اگر به اندازه کافی عمومیه که ارزش اتوماتیک کردن داشته باشه  اتوماتیکش میکنم و در غیر اینصورت ازش میگذرم
> 
*Bobby Tables stackexchange.com (2010*)

برای سال های متمادی تست های اتوماتیک  برای ساخت برنامه هایی محکم و خالی از باگ شناخته شده اند. همچنین Idea ها همیشه سعی کرده اند امکاناتی برای اجرا و کار با تست ها ارائه کنن.
با این وجود، من به اندازه کافی پروژه‌های تست شده را دیده‌ام تا مطمئن شوم که این موضوع هنوز به اندازه‌ای که باید مورد توجه قرار نگرفته است.

**آ A 1 : تایم خود را با ننوشتن تست هدر دهید!**
اگر شما تست نمینویسید، مطمئنا شما کار های دیگه ای انجام میدین تا مطمئن شین کدتون کار میکنه. برای اینکه شما مطمئن شین کدتون به خوبی کار میکنه و باگ نداره،‌شما میتونید:
1. دیباگ کنید با امکانات اینتلیج مثلا.
2. تعداد زیادی پیام لاگ اضافه کنید و چکشون کنید.
3.  کلیک کنید داخل برنامتون(منظورش ui هستش یه چیزی مثل تست end-to-end.
4. همیشه و به طور مکرر مرور کد رو انجام بدین.

تمام راه های بالا استفاده های قانونی خودشون رو دارن. بررسی کردن چشمی بسیار مفیده. دیباگ کردن و یا دیدن لاگ ها میتونه زندگی شما رو نجات بده. کلیک کردن داخل GUI میتونه به شما کمک کنه تا بدونید حس کاربرتون وقتی با برنامه کار میکنه چیه.مرور و ریویو کد اجازه میده به شما که ضعف های کد رو پیدا کنید. اما اگر فقط این تکنیک ها تنها راه های شما برای اینکه اعتبار سنجی کنید کدتون کار میکنه یا نه هستش، شما دارید کار اشتباهی رو انجام میدین.

مسئله اصلی همه این راه های بالا این هستش که تایم زیادی از شما میگیرن. اگر چه تجربه شما اجازه میده شما خیلی بهینه از دیباگر استفاده کنید، یا اگر شما دانش خیلی خوبی از کار کردن با شل لینوکس دارید، میتونید چیز هایی داخل خط کد های زیادی که اهمیت داره براتون رو پیدا کنید، اما این تکنیک ها زمان میبره. کلیک کردن روی GUI واقعا نمیتونه سریع باشه، شما باید صب کنید تا دیتا از دیتابیس فچ شه، بعدش مرورگر اونو رندر کنه و شما هم در جاهای درستی کلیک هایی انجام بدین که این خودش وقت گیره. یک بررسی کد مناسب نمیتونه توی چند دقیقه انجام شه. به علاوه تایم زیادی نیازه که تست کنیم خیلی از چیز ها رو روی محیط های مختلف( مثلا مرورگر های مختلف، دیتابیس های مختلف و یا os های مختلف.)

تایم یک المان حیاتیه: این خیلی ساده است شما دیگه تایمی ندارید برای اینکه این پراسس ها رو دوباره انجام بدین. شما فقط یه دفعه میتونید چک کنید که اینا کار میکنن و هورا بکشید، تمام!. بعد از اینکه برگردین مجددا سر این کد(برای اضافه کردن یا آپدیت کردن چیزایی که وجود داره) شما دوست دارید که رد کنید اون تیکه هایی که رو که قبلا تست کردین برای اینکه حتی فکر کردن به تست کردن دوباره اونها دردناکه!

به یاد داشته باشید که زمان و مهارت شما اونقدر ارزشمنده که نباید صرف کار های ساده شه، تسک های تکرار شدنی بسیار بهینه تر توسط ماشین ها اجرا میشن. چیزی که شما باید روی اون تمرکز کنید، آموزش انجام دادن آن وظایف و کار ها به ماشین ها هستش.

مسئله و مشکل بعدی اینکه شما اینجا به حواس، قضاوت و صداقت خود اعتماد دارید که این مشکلاتی رو به همراه داره:
1. ممکنه چیزی رو نادیده بگیرید(حذف کنید یک خط رو از روی حواس پرتی، یا یادتون بره همه چیز رو چک کنید)
2. ممکنه که معیار های درست کار کردن رو به اشتباه تعبیر کنید و یا اصلا فراموششون کنید و در این صورت تست هایی که با شکست مواجه شده اند رو قبول کنید.
3. ممکنه در حین تست قربانی اشتباه شوید و با خود بگویید این یک اشتباه نیست و یک فیچره و خودتون رو متقاعد کنید که داره درست کار میکنه.
4. ممکنه که خودتون رو فریب بدین که داره کار میکنه، حتی اگه اینطور نباشه.

آره من میدونم، شما اشتباه نمیکنید، امکان نداره که شما یک خط لاگ رو از دست بدین و فراموشش کنید، و البته شما صد در صد با خودتون صادقید!... باشه، اگر اینطوریه و شما هرگز دچار اشتباه نشده اید، پس چطور اصلا این اشتباه در وهله اول رخ داده! اما صداقتا، من فقط میتونم در مورد خودم حرف بزنم، و این ممکنه اتفاق بیفته که گاهی من فقط چیزی رو میبینم که میخوام اون رو ببینم و هر چیزی رو که بر خلاف خواسته من باشه رو نادیده میگیرم.هیچوقت برات اتفاق نیفتاده؟‌نه؟مطمئنی؟

چیزی که داستان رو دردناک تر میکنه بارها و بارها کلیک کردن روی رابطه کاربری مرورگر و یا مرور فایل های لاگ برای n اٌمین بار است، مغز شما فریاد میزند: منو از اینجا ببر بیرون، من میخوام کد بزنم! و احتمالا به شما میگوید همه چیز داره خوب کار میکنه! فقط برای اینکه سمت کار های جالب تری بروید!

به صورت کلی متد هایی که بدون تست های اتوماتیک اعتبارسنجی میشن، از این معایبشون رنج میبریم:
1. زمان زیادی مصرف میکنن، و این باعث میشه اولین چیزی باشه که وقتی به یه ددلاین نزدیک میشیم اون اعتبارسنجی رو هم کنار بزاریم که به صورت دستی انجام میشد.
2. ممکنه معیار اعتبارسنجی که داره انجام میشه درست نباشه، و در نتیجه اعتبارسنجی میتونه توسط خطای انسانی تحریف شه.
3. اونها خسته کننده ان! بنابراین آدما اونا رو انجام میدن بدون هیچ توجه ای و از سر بی میلی و حتی شاید بعضیا کلا اونا رو انجام ندن.
4. ممکنه تکرارشون سخت باشه(البته بعضیا برای راحت شدن کارشون بعضی مراحل رو حذف میکنن تا راحت تر تست کنن که اینم مشکلات خودش رو داره)
5. ممکنه پیدا کردن باگ از داخل لاگ فایل سخت باشه و گاهی اوقات این موضوع به یه تحقیقات طولانی احتیاج داره.
6. در فرآیند ساخت یا همون بیلد دخالت داده نشدن و فقط بعد از اینکه فیچر ها یا تغییرات جدیدی روی سیستم اعمال میشه اجرا میشن و برا همین بازخوردی که میدن ارزش چندانی نداره(به این منظوره که فیکس کردن باگ قسمت آسیب دیده بلافاصله پس از به وجود اومدن باگ انجام نشده، برا همین چون خیلی از زمان تولیدش گذشته، هزینه بیشتری باید بابتش داده شه). 
     ![cost-but-image](https://github.com/farzadafi/Teaching/blob/master/Book/Practical_Unit_Testing_with_JUnit_and_Mockito_2019_Tomek_Kaczanowski/Appendix-A/images/cost-of-bug-fixing.png)
     تو این نمودار خطی نشون داده شده که شما هر چقدر از یه تغییراتی یا اضافه کردن فیچر جلو تر برید، حل باگ هایی که برای اون پیش اومده هزینه بیشتری خواهد داشت.
     
7. آدما خیلی راحت میتونن از چیزی که میبینن بیزار باشن(مثلا وقتی یه اکسپشن میبینن بگن این ربطی به تستی که الان داریم میکنیم نداره و همیشه وجود داشته و ضرری نداره برای سیستم) و بسیار آسونه که مسائل و مشکلات رو پنهون کنیم با جارو کردن زیر قالی (و در اینجا با خودشون میگن هیشکی دیگه متوجه این اکسپشن نشده)

در تجربه من، خفن ترین باگ ها و خطا ها وقتی رخ میدن که کد تغییر میکنه، اونها وقتی که کد برای بار اول نوشته میشه رخ نمیدن، بلکه زمان تغییره که رخ میدن(اکثر اوقات).وقتی که شما  ویژگی های جدید رو پیاده سازی میکنید، لیستی از نیازمندی ها بابت اونها دارید که معمولا شفاف هستن. شما به راحتی پیاده میکنید اونها رو دونه دونه، و مطمئن میشید که همه اونها دارن کار میکنن، این خیلی ساده اس. مشکلات بعدی وقتی خودشون رو نشون میدن که از شما میخوان که تغییرات دیگه ای رو انجام بدین، اُاُاُپپپس، لیست اصلی نیازمندی ها مدتی است که از بین رفته، اون افرادی که کد اصلی رو نوشتن دیگه اونجا نیستن، و مدیران شما توقع دارن و میگن که: اضافه کردن این قسمت های کوچیک که مربوط به فیچر های جدیدی هستن، نباید تایم زیادی ببره، باید ببره؟ و اگر شما تعدادی تست امن نداشته باشید، سختتون میشه، وقتی که اضافه میکنید یا آپدیت میکنید فیچر ها رو، شما در حال خراب کردن چیز هایی هستین که به درستی دارن کار میکنن، به عبارتی میگن که اینجا regression bugs به وجود اومده(داخل پرانتز بگم که این باگ یعنی اشکالاتی که باعث میشه پس از اعمال تغیرات در کد، ویژگی ای که قبلا به درستی کار میکرده از کار بیفته!) اما وقتی که تست ها به صورت خودکار اتفاق بیفتن این باگ ها خیلی سخت تر به وجود میان.

آ A.1.1:برای تستر ها چطوریه؟(منظور همون QA هستش)